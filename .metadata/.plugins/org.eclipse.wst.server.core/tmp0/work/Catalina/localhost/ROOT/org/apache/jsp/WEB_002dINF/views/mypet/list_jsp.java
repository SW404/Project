/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.0.5
 * Generated at: 2022-05-18 00:40:22 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.mypet;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class list_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<style>\r\n");
      out.write("#mypet {\r\n");
      out.write("   width: 900px;\r\n");
      out.write("   margin: 0px auto;\r\n");
      out.write("   overflow: hidden;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#pet_box {\r\n");
      out.write("   width: 280px;\r\n");
      out.write("   height:350px;\r\n");
      out.write("   margin: 10px;\r\n");
      out.write("   float: left;\r\n");
      out.write("   border: 1px solid #cecece;\r\n");
      out.write("   cursor: pointer;\r\n");
      out.write("   border-radius:10px;\r\n");
      out.write("   font-family: 'SBAggroL';\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".title {\r\n");
      out.write("   width: 150px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".mpreply {\r\n");
      out.write("\tmargin-bottom:-7px;\r\n");
      out.write("\tborder:none;\r\n");
      out.write("\tresize:none;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".row {\r\n");
      out.write("\tpadding:15px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".modal2 \r\n");
      out.write("{ \r\n");
      out.write("\tposition: absolute; top: 0; left: 0; width: 100%; height:2100px; \r\n");
      out.write("\tdisplay: none; background-color: rgba(0, 0, 0, 0.4); \r\n");
      out.write("\tz-index:20;\r\n");
      out.write("} \r\n");
      out.write("\r\n");
      out.write(".modal_body2\r\n");
      out.write("{ \r\n");
      out.write("\tposition: absolute; top: 50%; left: 50%; width: 1100px; \r\n");
      out.write("\theight: 600px; text-align: center; background-color: rgb(255, 255, 255); border-radius: 10px; \r\n");
      out.write("\tbox-shadow: 0 2px 3px 0 rgba(34, 36, 38, 0.15); \r\n");
      out.write("\ttransform: translateX(-50%) translateY(-50%); \r\n");
      out.write("\tmargin:0px auto;\r\n");
      out.write("\tfloat:left;\r\n");
      out.write("\toverflow:hidden;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".btn-close2 {\r\n");
      out.write("   width: 20px;\r\n");
      out.write("   height: 20px;\r\n");
      out.write("   float: right;\r\n");
      out.write("   cursor: pointer;\r\n");
      out.write("   margin:30px;\r\n");
      out.write("   z-index:20;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".petBox_content {\r\n");
      out.write("\tpadding : 10px;\r\n");
      out.write("\tdisplay:flex;\r\n");
      out.write("\tflex-direction: column;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".petStargram_box {\r\n");
      out.write("\tdisplay:flex;\r\n");
      out.write("\tmargin-right:-50px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".petStargram_content {\r\n");
      out.write("\twidth:400px;\r\n");
      out.write("\theight:600px;\r\n");
      out.write("\tpadding:20px;\r\n");
      out.write("\ttext-align:left;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".reply_insertBox {\r\n");
      out.write("\tpadding-top:10px;\r\n");
      out.write("\theight:100px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#mp_writer {\r\n");
      out.write("\tfont-weight:bold;\r\n");
      out.write("\tmargin-left:5px;\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#mp_regdate {\r\n");
      out.write("\tmargin-left:45px;\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#likeImg, #chat {\r\n");
      out.write("\tcursor:pointer;\r\n");
      out.write("\tmargin-right:15px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#mpreply {\r\n");
      out.write("\tborder:none;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#insert {\r\n");
      out.write("\tborder:none;\r\n");
      out.write("\tbackground:none;\r\n");
      out.write("\tcolor:#3156f7;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".main_content {\r\n");
      out.write("\tborder-bottom:1px solid #dedede;\r\n");
      out.write("\theight:450px;\r\n");
      out.write("\toverflow-y: scroll;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".main_content::-webkit-scrollbar {\r\n");
      out.write("\tdisplay:none;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("<body>\r\n");
      out.write("\t<div style=\"text-align:center;position: relative; margin-bottom:70px;\">\r\n");
      out.write("\t\t<img src=\"/resources/board_banner.png\" style=\"height:500px; width:100%;\">\r\n");
      out.write("\t\t<div class=\"body_banner\"> \r\n");
      out.write("\t\t\t<div class=\"heading\">\r\n");
      out.write("\t\t\t  <div>\r\n");
      out.write("\t\t\t    <p id=\"banner_top\" class=\"slide-up\">게시판</p>\r\n");
      out.write("\t\t\t  </div>\r\n");
      out.write("\t\t\t  <div class=\"notosanskr\">\r\n");
      out.write("\t\t\t    <p id=\"banner_bottom\" class=\"slide-up\">다양한 이야기들을 적어 함께 공유해주세요</p>\r\n");
      out.write("\t\t\t  </div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div> \r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"page\" style=\"text-align:center;\">\r\n");
      out.write("\t   <div id=\"header_board\">\r\n");
      out.write("\t\t\t<a href=\"/board/list\">자유게시판</a>\r\n");
      out.write("\t\t\t<a href=\"/mypet/list\">펫스타그램</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t   \t<p class=\"small_title\">펫스타그램</p>\r\n");
      out.write("\t\t<p class=\"big_title\">반려동물들을 마음껏 자랑해주세요</p>\r\n");
      out.write("\t   </div>\r\n");
      out.write("\t\r\n");
      out.write("\t   <table id=\"mypet\"></table>\r\n");
      out.write("\t   <script id=\"temp\" type=\"text/x-handlebars-template\">\r\n");
      out.write("\t\t{{#each list}}\r\n");
      out.write("      \t<div id=\"pet_box\" class=\"btn-open-popup2\">   \r\n");
      out.write("         \t<p class=\"mpno\" style=display:none;>{{mpno}}</p>\r\n");
      out.write("\t\t\t<p class=\"uimage\" style=display:none;>{{uimage}}</p>\r\n");
      out.write("\t\t\t<p class=\"likeImg\" style=display:none;>{{likeImg}}</p>\r\n");
      out.write("         \t<p class=\"mpimage\" style=display:none;>{{mpimage}}</p>      \r\n");
      out.write("         \t<img src=\"/display?fileName={{mpimage}}\" style=\"width:280px; height:250px;\" >\r\n");
      out.write("         \t<div class=\"petBox_content\">\r\n");
      out.write("\t\t\t\t<div><b class=\"mpwriter\">{{mpwriter}}</b>&nbsp;&nbsp;<span class=\"mptitle\">{{mptitle}}</span></div>\r\n");
      out.write("\t\t\t\t<div style=\"display:flex;\">좋아요 <p class=\"mpcount\" id=\"mpnum\">{{mpcount}}</p>개</div>\t\t\t\t\r\n");
      out.write("         \t\t<p class=\"mpregdate\">{{mpregdate}}</p>\r\n");
      out.write("\t\t \t</div>\r\n");
      out.write("      \t</div>\r\n");
      out.write("   \t\t{{/each}}\r\n");
      out.write("   \t   </script>\r\n");
      out.write("\t   <div>\r\n");
      out.write("\t      <input type=\"submit\" id=\"submit\" value=\"사진 올리기\">\r\n");
      out.write("\t   </div>\r\n");
      out.write("\t   <div class=\"pagination\"></div>\r\n");
      out.write("\t<script src=\"/resources/pagination.js\"></script>\r\n");
      out.write("\t<button class=\"btn-open-popup2\" style=\"display:none;\">열기</button>\r\n");
      out.write("</body>\r\n");
      out.write("<div class=\"modal2\">\r\n");
      out.write("   <div class=\"modal_body2\">\r\n");
      out.write("      <img src=\"/resources/cancel.png\" class=\"btn-close2\">\r\n");
      out.write("      <div class=\"petStargram_box\">\r\n");
      out.write("\t\t<img id=\"mypet_image\" style=\"width:600px;\">\r\n");
      out.write("\t\t<div class=\"petStargram_content\">\r\n");
      out.write("\t\t\t<p id=\"mp_no\" style=\"display:none;\"></p>\r\n");
      out.write("\t\t\t<div class=\"main_content\">\r\n");
      out.write("\t\t\t\t<img id=\"mypet_uimage\" style=\"border-radius:50%; width:32px; height:32px;\">\r\n");
      out.write("\t\t\t\t<span id=\"mp_writer\"></span>\r\n");
      out.write("\t\t\t\t<span id=\"mp_title\"></span>\r\n");
      out.write("\t\t\t\t<p id=\"mp_regdate\">\r\n");
      out.write("\t\t\t\t<hr>\r\n");
      out.write("\t\t\t\t<div id=\"mpreplies\"></div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"reply_insertBox\">\r\n");
      out.write("\t\t\t\t<label>좋아요<span id=\"mp_count\"></span>개</label>\r\n");
      out.write("\t\t\t\t<div style=\"display:flex; padding:10px 0px;\">\r\n");
      out.write("\t\t\t\t\t<img id=\"likeImg\" onClick=\"like();\" width=25>\r\n");
      out.write("\t\t\t\t\t<img id=\"chat\" src=\"/resources/chat.png\" onClick=\"chat();\" style=\"width:22px; height:22px;\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<input type=\"text\" id=\"mpreply\" placeholder=\"댓글달기\" size=40>\r\n");
      out.write("\t\t\t\t<button id=\"insert\">게시</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <hr/>\r\n");
      out.write("\t<script id=\"temp_reply\" type=\"text/x-handlebars-template\">\r\n");
      out.write("\t{{#each mprlist}}\r\n");
      out.write("\t\t<div class=\"row\" mprno=\"{{mprno}}\">\r\n");
      out.write("\t\t\t<img src=\"/display?fileName={{uimage}}\" style=\"border-radius:50%; width:32px; height:32px;\">\r\n");
      out.write("\t\t\t<b><span>{{mpreplyer}}</span></b>\r\n");
      out.write("\t\t\t<input type=\"text\" class=\"mpreply\" {{read mpreplyer}} value=\"{{mpreply}}\" size=25>\r\n");
      out.write("\t\t\t<span style=\"display:{{display mpreplyer}}; text-align:right;\">\r\n");
      out.write("\t\t\t\t<a class=\"delete\">삭제</a>\r\n");
      out.write("\t\t\t</span>\r\n");
      out.write("\t\t\t<p>{{mpreplydate}}</p>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t{{/each}}\r\n");
      out.write("\t</script>\r\n");
      out.write("\t<script>\r\n");
      out.write("\t\tHandlebars.registerHelper(\"display\", function(mpreplyer){\r\n");
      out.write("\t\t\tif(mpreplyer!=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${unickname}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\"){\r\n");
      out.write("\t\t\t\tvar btn=$(\"#mypet_upadte_btn\");\r\n");
      out.write("\t\t\t\tbtn.css({\r\n");
      out.write("\t\t\t\t\t\"display\" : \"none\"\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\treturn \"none\";\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tHandlebars.registerHelper(\"read\", function(mpreplyer){\r\n");
      out.write("\t\t\tif(mpreplyer!=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${unickname}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\"){\r\n");
      out.write("\t\t\t\tvar btn=$(\"#mypet_upadte_btn\");\r\n");
      out.write("\t\t\t\tbtn.css({\r\n");
      out.write("\t\t\t\t\t\"display\" : \"none\"\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\treturn \"readonly\";\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t</script>\r\n");
      out.write("\t<div class=\"mppagination\"></div>\r\n");
      out.write("   </div>\r\n");
      out.write("</div>\r\n");
      out.write("<script>\r\n");
      out.write("   var searchType = '';\r\n");
      out.write("   var searchform = $(\"#searchForm\");\r\n");
      out.write("   var page = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.page==null ? 1: param.page}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("   var keyword = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.keyword==null ? '': param.keyword}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("   var count = 0;\r\n");
      out.write("   var likeImg;\r\n");
      out.write("   getList();\r\n");
      out.write("   \r\n");
      out.write("   \r\n");
      out.write("   function chat() {\r\n");
      out.write("\t   $(\"#mpreply\").focus();\r\n");
      out.write("   }\r\n");
      out.write("\r\n");
      out.write("   function like() {\r\n");
      out.write("\t   var num=$(\"#mp_count\").html();\r\n");
      out.write("\t   likeImg = $('#likeImg').attr(\"src\");\r\n");
      out.write("\t   if(likeImg==\"/resources/like_push.png\"){\r\n");
      out.write("\t\t   likeImg=\"/resources/like.png\";\r\n");
      out.write("\t\t   $(\"#likeImg\").attr(\"src\", likeImg);\r\n");
      out.write("\t\t   count=-1;\r\n");
      out.write("\t\t   num = parseInt(num) - 1;\r\n");
      out.write("\t\t   $(\"#mp_count\").html(num);\r\n");
      out.write("\t\t   like_count(count);   \r\n");
      out.write("\t   }else if(likeImg==\"/resources/like.png\"){\r\n");
      out.write("\t\t   likeImg=\"/resources/like_push.png\";\r\n");
      out.write("\t\t   $(\"#likeImg\").attr(\"src\", likeImg);\r\n");
      out.write("\t\t   count=1;\r\n");
      out.write("\t\t   num = parseInt(num) + 1;\r\n");
      out.write("\t\t   $(\"#mp_count\").html(num);\r\n");
      out.write("\t\t   like_count(count);\r\n");
      out.write("\t   }\r\n");
      out.write("   }\r\n");
      out.write("   \r\n");
      out.write("   function like_count(mpcount) {\r\n");
      out.write("\t   var mpno = $(\"#mp_no\").html();\r\n");
      out.write("\t   $.ajax({\r\n");
      out.write("\t         type : \"post\",\r\n");
      out.write("\t         url : \"/mypet/like\",\r\n");
      out.write("\t         data : {\r\n");
      out.write("\t            mpcount:mpcount,\r\n");
      out.write("\t            mpno:mpno,\r\n");
      out.write("\t            likeImg:likeImg\r\n");
      out.write("\t         },\r\n");
      out.write("\t         success : function(data) {\r\n");
      out.write("\t         \talert(\"성공\");\r\n");
      out.write("\t         }\r\n");
      out.write("\t      });\r\n");
      out.write("   }\r\n");
      out.write("\r\n");
      out.write("   function getList() {\r\n");
      out.write("      keyword = $(\"#keyword\").val();\r\n");
      out.write("      searchType = searchform.find(\"option:selected\").val();\r\n");
      out.write("      $.ajax({\r\n");
      out.write("         type : \"get\",\r\n");
      out.write("         url : \"/mypet/list.json\",\r\n");
      out.write("         data : {\r\n");
      out.write("            page : page,\r\n");
      out.write("            keyword : keyword,\r\n");
      out.write("            searchType : searchType\r\n");
      out.write("         },\r\n");
      out.write("         dataType : \"json\",\r\n");
      out.write("         success : function(data) {\r\n");
      out.write("            var template = Handlebars.compile($(\"#temp\").html());\r\n");
      out.write("            $(\"#mypet\").html(template(data));\r\n");
      out.write("\r\n");
      out.write("            //페이지목록 출력\r\n");
      out.write("            $(\".pagination\").html(getPagination(data));\r\n");
      out.write("         }\r\n");
      out.write("      });\r\n");
      out.write("   }\r\n");
      out.write("\r\n");
      out.write("   //인서트로 ㄱ\r\n");
      out.write("   $(\"#submit\").on(\"click\", function() {\r\n");
      out.write("      location.href = \"insert\";\r\n");
      out.write("   });\r\n");
      out.write("\r\n");
      out.write("   $(\"#mypet\").on(\"click\",\"#pet_box\",function() {\r\n");
      out.write("\t  var mpno = $(this).find(\".mpno\").html();\r\n");
      out.write("\t  var likeImg = $(this).find(\".likeImg\").html();\r\n");
      out.write("\t  var uimage = $(this).find(\".uimage\").html();\r\n");
      out.write("      var mpimage = $(this).find(\".mpimage\").html();\r\n");
      out.write("      var mptitle = $(this).find(\".mptitle\").html();\r\n");
      out.write("      var mpwriter = $(this).find(\".mpwriter\").html();\r\n");
      out.write("      var mpregdate = $(this).find(\".mpregdate\").html();\r\n");
      out.write("      var mpcount = $(this).find(\".mpcount\").html();\r\n");
      out.write("      \r\n");
      out.write("      $(\"#likeImg\").attr(\"src\", likeImg);\r\n");
      out.write("      $(\"#mypet_image\").attr(\"src\", \"/display?fileName=\"+mpimage);\r\n");
      out.write("      $(\"#mypet_uimage\").attr(\"src\", \"/display?fileName=\"+uimage);\r\n");
      out.write("      $(\"#mp_no\").html(mpno);\r\n");
      out.write("      $(\"#mp_title\").html(mptitle);\r\n");
      out.write("      $(\"#mp_writer\").html(mpwriter);\r\n");
      out.write("      $(\"#mp_regdate\").html(mpregdate);\r\n");
      out.write("      $(\"#mp_count\").html(mpcount);\r\n");
      out.write("      \r\n");
      out.write("      modal2.style.display = 'block';\r\n");
      out.write("      getMyPetList();\r\n");
      out.write("   });\r\n");
      out.write("   //검색버튼을 클릭한 경우\r\n");
      out.write("   $(\"#search\").on(\"click\", function() {\r\n");
      out.write("      page = 1;\r\n");
      out.write("      getList();\r\n");
      out.write("   });\r\n");
      out.write("\r\n");
      out.write("   //검색어상자에서 엔터를 친경우\r\n");
      out.write("   $(\"#keyword\").on(\"keypress\", function(e) {\r\n");
      out.write("      if (e.keyCode == 13)\r\n");
      out.write("         $(\"#search\").click();\r\n");
      out.write("   });\r\n");
      out.write("\r\n");
      out.write("   //페이지 번호를 클릭한 경우\r\n");
      out.write("   $(\".pagination\").on(\"click\", \"a\", function(e) {\r\n");
      out.write("      e.preventDefault();\r\n");
      out.write("      page = $(this).attr(\"href\");\r\n");
      out.write("      getList();\r\n");
      out.write("   });\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#mpdelete\").on(\"click\", function(){\r\n");
      out.write("\t\tvar mpno=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.mpno}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\tif(!confirm(mpno + \"을(를) 삭제하실래요?\"))\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\tlocation.href = \"delete?mpno=\" + mpno;\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//댓글 삭제\r\n");
      out.write("\t$(\"#mpreplies\").on(\"click\", \".delete\", function() {\r\n");
      out.write("\t\tvar row = $(this).parent().parent();\r\n");
      out.write("\t\tvar mprno = row.attr(\"mprno\");\r\n");
      out.write("\t\tif(!confirm(\"댓글을 삭제하실래요?\")) return;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\turl: \"/mpreply/delete\",\r\n");
      out.write("\t\t\tdata: {mprno:mprno},\r\n");
      out.write("\t\t\tsuccess: function(){\r\n");
      out.write("\t\t\t\tgetMyPetList();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t//댓글 등록\r\n");
      out.write("\t$(\"#insert\").on(\"click\", function() {\r\n");
      out.write("\t\tvar mpno=$(\"#mp_no\").html();\r\n");
      out.write("\t\tvar mpreplyer = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${unickname}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\tvar mpreply = $(\"#mpreply\").val();\r\n");
      out.write("\t\tvar uimage=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${image}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\tif (mpreply == \"\") {\r\n");
      out.write("\t\t\talert(\"댓글을 입력하세요!\");\r\n");
      out.write("\t\t\t$(\"#mpreply\").focus();\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif (!confirm(\"댓글을 등록하실래요?\"+mpno+mpreplyer+ mpreply))\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : \"/mpreply/insert\",\r\n");
      out.write("\t\t\tdata : {\r\n");
      out.write("\t\t\t\tmpno : mpno,\r\n");
      out.write("\t\t\t\tmpreplyer : mpreplyer,\r\n");
      out.write("\t\t\t\tmpreply : mpreply,\r\n");
      out.write("\t\t\t\tuimage : uimage,\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tsuccess : function() {\r\n");
      out.write("\t\t\t\tgetMyPetList();\r\n");
      out.write("\t\t\t\t$(\"#mpreply\").val(\"\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\tfunction getMyPetList() {\r\n");
      out.write("\t\tvar mpno=$(\"#mp_no\").html();\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"get\",\r\n");
      out.write("\t\t\turl : \"/mpreply/list.json\",\r\n");
      out.write("\t\t\tdataType : \"json\",\r\n");
      out.write("\t\t\tdata : {\r\n");
      out.write("\t\t\t\tpage : page,\r\n");
      out.write("\t\t\t\tmpno : mpno\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\tvar template = Handlebars.compile($(\"#temp_reply\").html());\r\n");
      out.write("\t\t\t\t$(\"#mpreplies\").html(template(data));\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t$(\"#delete\").on(\"click\", function() {\r\n");
      out.write("\t\tvar mpno = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.mpno}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\";\r\n");
      out.write("\t\tif (!confirm(mpno + \"를(을) 삭제?\"))\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\tlocation.href = \"delete?mpno=\" + mpno;\r\n");
      out.write("\t});\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("   const\r\n");
      out.write("   modal2 = document.querySelector('.modal2');\r\n");
      out.write("   const\r\n");
      out.write("   btnclose2 = document.querySelector('.btn-close2');\r\n");
      out.write("   const\r\n");
      out.write("   btnOpenPopup2 = document.querySelector('.btn-open-popup2');\r\n");
      out.write("   btnOpenPopup2.addEventListener('click', function() {\r\n");
      out.write("      modal2.style.display = 'block';\r\n");
      out.write("   });\r\n");
      out.write("\r\n");
      out.write("   btnclose2.addEventListener('click', function() {\r\n");
      out.write("      modal2.style.display = 'none';\r\n");
      out.write("   });\r\n");
      out.write("</script>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
